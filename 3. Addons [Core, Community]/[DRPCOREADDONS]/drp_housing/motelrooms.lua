local motelRoomLocations = {
    {id = 1, x = 152.2704, y = -1008.06, z = -99.00001, enterCoords = {-1493.688, -668.2933, 29.02507}, ownerid = 0},
	{id = 2, x = 124.91330000, y = -1007.215, z = -98.31139, enterCoords = {-1498.147, -664.6023, 29.02507}, ownerid = 0},
    {id = 3, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1495.456, -661.762, 29.02508}, ownerid = 0},
	{id = 4, x = 145.70560000, y= -1009.42200000, z = -136.84560000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 5, x = 120.19280000, y= -1009.42200000, z = -136.84560000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0}, 
    
    {id = 6, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1486.592, -655.331, 29.58307}, ownerid = 0}, 
	{id = 7, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1482.134, -652.0147, 29.58307}, ownerid = 0},
	{id = 8, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1478.39, -649.2631, 29.58308}, ownerid = 0}, 
	{id = 9, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1469.761, -643.1042, 29.58306}, ownerid = 0},
	{id = 10, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1465.291, -639.7605, 29.58306}, ownerid = 0},
    {id = 11, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 12, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 13, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 14, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 15, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 16, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 17, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 18, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 19, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 20, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 21, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 22, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 23, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 24, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 25, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 26, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 27, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 28, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 29, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 31, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0},
    {id = 32, x = 101.83940000, y = -1002.86800000, z = -100.06370000, enterCoords = {-1490.772, -658.3486, 29.02507}, ownerid = 0}
}

RegisterServerEvent("DRP_Housing:InitializePlayer")
AddEventHandler("DRP_Housing:InitializePlayer", function(bool)
    local src = source
    local character = exports["drp_id"]:GetCharacterData(src)
    local vacantHouseIndex = FindVacantHouse()
    if vacantHouseIndex ~= nil then
        motelRoomLocations[vacantHouseIndex].ownerid = character.charid
        TriggerClientEvent("DRP_Housing:UpdateClientHousing", -1, motelRoomLocations)
        if bool then
            TriggerClientEvent("DRP_Housing:SpawnPlayerInsideMotelRoom", src, character.charid)
        else
            print("dont want you to spawn in here thanks!")
        end
    end
end)

AddEventHandler("playerDropped", function()
    local src = source
    local character = exports["drp_id"]:GetCharacterData(src)
    local playerHouseIndex = FindPlayerHouse(character.charid)
    if playerHouseIndex ~= nil then
        motelRoomLocations[playerHouseIndex].ownerid = 0
        TriggerClientEvent("DRP_Housing:UpdateClientHousing", -1, motelRoomLocations)
    end
end)

function FindVacantHouse()
    for a = 1, #motelRoomLocations do
        if motelRoomLocations[a].ownerid == 0 then
            return a
        end
    end
    return nil
end

function FindPlayerHouse(charid)
    for a = 1, #motelRoomLocations do
        if motelRoomLocations[a].ownerid == charid then
            return a
        end
    end
    return nil
end
